export type Modification = (a: string) => string;

function modify(initialKey: string, finalKey: string, toneKey: string): Modification {
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-expect-error
  return () => window["shared"]["build"](initialKey, finalKey, toneKey);
}

export const MODIFICATIONS = new Map<string, (string | Modification)[][]>([
  ["们", [["明一魂平", modify("M", "UEN", "輕")]]],
  ["們", [["明一魂平", modify("M", "UEN", "輕")]]],
  ["哈", [["曉開一歌平", modify("H", "A", "輕")]]],
  ["嚕", [["來一模平", modify("L", "U", "輕")]]],
  ["噜", [["來一模平", modify("L", "U", "輕")]]],
  ["他", [["透開一歌平", it => it.replace("o", "a")]]],
  ["她", [["透開一歌平", it => it.replace("o", "a")]]],
  ["它", [["透開一歌平", it => it.replace("o", "a")]]],
  ["那", [["泥開一歌去", it => it.replace("o", "a")]]],
  ["哪", [["泥開一歌上", it => it.replace("o", "a")]]],
  ["什", [["常開三侵平", it => it.replace("ch", "sh")]]],
  ["甚", [["常開三侵平", it => it.replace("ch", "sh")]]],
  ["時", [["常開三之平", it => it.replace("ch", "sh")]]],
  ["打", [["端開二庚上", it => it.replace("eng", "a")]]],
  ["怎", [["章開三侵上", it => it.replace("zh", "tz")]]],
  ["完", [["影合二刪平", it => it.replace("hw", "w").replace("1", "2")]]],
  ["丸", [["影合二刪平", it => it.replace("hw", "w").replace("1", "2")]]],

  ["乳", [["日合三虞上", modify("RH", "U", "上")]]],
  ["女", [["孃開三魚上", modify("NY", "YU", "上")], ["孃開三魚去", modify("NY", "YU", "去")]]],
  ["籹", [["孃開三魚上", modify("NY", "YU", "上")]]],
  ["𡫽", [["日開三魚平", modify("RH", "YU", "陽平")], ["日開三魚上", modify("RH", "YU", "上")], ["影開三C魚去", modify("_", "YU", "去")]]],
  ["汝", [["日開三魚上", modify("RH", "YU", "上")]]],
  ["肗", [["日開三魚上", modify("RH", "YU", "上")]]],
  ["𪏮", [["日開三魚上", modify("RH", "YU", "上")]]],
  ["㼋", [["日開三魚上", modify("RH", "U", "上")]]],
  ["㼱", [["日合三虞平", modify("RH", "U", "陽平")]]],

  ["內", [["泥合一灰去", modify("N", "UEI", "去")]]],

  ["奔", [["幫一魂平", modify("B", "EN", "陰平")], ["幫一魂去", modify("B", "EN", "去")]]],
  ["賁", [["幫一魂平", modify("B", "EN", "陰平")]]],
  ["䴅", [["幫一魂平", modify("B", "EN", "陰平")]]],
  ["犇", [["幫一魂平", modify("B", "EN", "陰平")]]],
  ["濆", [["滂一魂平", modify("P", "EN", "陰平")]]],
  ["噴", [["滂一魂平", modify("P", "EN", "陰平")], ["滂一魂去", modify("P", "EN", "去")]]],
  ["歕", [["滂一魂平", modify("P", "EN", "陰平")], ["滂一魂去", modify("P", "EN", "去")]]],
  ["獖", [["並一魂上", modify("B", "EN", "去")]]],
  ["樠", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["虋", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["璊", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["亹", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["𤅣", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["𣯩", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["䊟", [["明一魂平", modify("M", "EN", "陽平")]]],
  ["懣", [["明一魂上", modify("M", "EN", "上")], ["明一魂去", modify("M", "EN", "去")]]],

  ["丹", [["端開一寒平", modify("D", "ON", "陰平")]]],
  ["㨏", [["透開一寒平", modify("T", "ON", "陰平")]]],
  ["湠", [["透開一寒去", modify("T", "ON", "去")]]],
  ["𣁗", [["透開一寒去", modify("T", "ON", "去")]]],
  ["炭", [["透開一寒去", modify("T", "ON", "去")]]],
  ["碳", [["透開一寒去", modify("T", "ON", "去")]]],
  ["㛶", [["透開一寒去", modify("T", "ON", "去")]]],
  ["𢅼", [["泥開一寒去", modify("N", "ON", "去")]]],

  ["䉔", [["清開一寒平", modify("TS", "AN", "陰平")]]],
  ["殘", [["從開一寒平", modify("TS", "AN", "陽平")]]],
  ["䏼", [["從開一寒平", modify("TS", "AN", "陽平")], ["從開一寒去", modify("TS", "AN", "去")]]],
  ["㱚", [["從開一寒平", modify("TS", "AN", "陽平")]]],
  ["戔", [["從開一寒平", modify("TS", "AN", "陽平")]]],
  ["帴", [["從開一寒平", modify("TS", "AN", "陽平")], ["心開一寒去", modify("S", "AN", "去")]]],
  ["𣧻", [["從開一寒去", modify("TS", "AN", "去")]]],

  ["跚", [["心開一寒平", modify("S", "AN", "陰平")]]],
  ["珊", [["心開一寒平", modify("S", "AN", "陰平")]]],
  ["姍", [["心開一寒平", modify("S", "AN", "陰平")]]],
  ["䈀", [["心開一寒平", modify("S", "AN", "陰平")], ["心開一寒去", modify("S", "AN", "去")]]],

  ["笴", [["見開一寒上", modify("G", "AN", "上")]]],
  ["看", [["溪開一寒平", modify("K", "AN", "陰平")], ["溪開一寒去", modify("K", "AN", "去")]]],
  ["栞", [["溪開一寒平", modify("K", "AN", "陰平")]]],
  ["𣓁", [["溪開一寒平", modify("K", "AN", "陰平")]]],
  ["臤", [["溪開一寒平", modify("K", "AN", "陰平")]]],
  ["侃", [["溪開一寒上", modify("K", "AN", "上")], ["溪開一寒去", modify("K", "AN", "去")]]],
  ["偘", [["溪開一寒去", modify("K", "AN", "去")]]],
  ["雃", [["疑開一寒平", modify("NG", "AN", "陽平")]]],
  ["𡽜", [["疑開一寒平", modify("NG", "AN", "陽平")]]],
  ["㷳", [["疑開一寒去", modify("NG", "AN", "去")]]],
  ["喭", [["疑開一寒去", modify("NG", "AN", "去")]]],
  ["𡹼", [["疑開一寒去", modify("NG", "AN", "去")]]],
  ["灘", [["曉開一寒上", modify("H", "AN", "上")]]],
  ["暵", [["曉開一寒上", modify("H", "AN", "上")], ["曉開一寒去", modify("H", "AN", "去")]]],
  ["熯", [["曉開一寒上", modify("H", "AN", "上")], ["曉開一寒去", modify("H", "AN", "去")]]],
  ["漢", [["曉開一寒去", modify("H", "AN", "去")]]],
  ["𤳉", [["曉開一寒去", modify("H", "AN", "去")]]],
  ["𤅩", [["曉開一寒去", modify("H", "AN", "去")]]],
  ["䎯", [["曉開一寒去", modify("H", "AN", "去")]]],
  ["䢿", [["影開一寒平", modify("_", "AN", "陰平")], ["影開一寒去", modify("_", "AN", "去")]]],

  ["嬾", [["來開一寒上", modify("L", "ON", "上")]]],
  ["懶", [["來開一寒上", modify("L", "ON", "上")]]],

  ["鍛", [["端合一寒去", modify("D", "UAN", "去")]]],
  ["腶", [["端合一寒去", modify("D", "UAN", "去")]]],
  ["碫", [["端合一寒去", modify("D", "UAN", "去")]]],
  ["瑖", [["端合一寒去", modify("D", "UAN", "去")]]],
  ["緞", [["定合一寒上", modify("D", "UAN", "去")]]],
  ["毈", [["定合一寒去", modify("D", "UAN", "去")]]],
  ["椴", [["定合一寒上", modify("D", "UAN", "去")]]],
  ["彖", [["透合一寒去", modify("T", "UAN", "去")]]],
  ["褖", [["透合一寒去", modify("T", "UAN", "去")]]],
  ["湪", [["透合一寒去", modify("T", "UAN", "去")]]],
  ["竄", [["清合一寒去", modify("TS", "UAN", "去")]]],
  ["鑹", [["清合一寒去", modify("TS", "UAN", "去")]]],
  ["菆", [["從合一寒平", modify("TS", "UAN", "陽平")]]],
  ["𩎑", [["精合一寒平", modify("TZ", "UAN", "陰平")]]],
  ["爨", [["清合一寒去", modify("TS", "UAN", "去")]]],
  ["蒜", [["心合一寒去", modify("S", "UAN", "去")]]],
  ["祘", [["心合一寒去", modify("S", "UAN", "去")]]],
  ["筭", [["心合一寒去", modify("S", "UAN", "去")]]],
  ["算", [["心合一寒上", modify("S", "UAN", "上")]]],
  ["笇", [["心合一寒去", modify("S", "UAN", "去")]]],

  ["𨟚", [["日開三陽平", modify("RH", "ANG", "陽平")]]],
  ["䕼", [["日開三仙平", modify("RH", "AN", "陽平")]]],
  ["𤓉", [["日開三仙平", modify("RH", "AN", "陽平")]]],
  ["戁", [["日開三仙上", modify("RH", "AN", "上")]]],
  ["熯", [["日開三仙上", modify("RH", "AN", "上")]]],
  ["䏰", [["日合三真去", modify("RH", "UEN", "去")]]],
  ["𣯍", [["日合三真上", modify("RH", "UEN", "上")]]],
  ["仁", [["日開三真平", modify("RH", "EN", "陽平")]]],
  ["擾", [["日開三宵上", modify("RH", "AU", "上")]]],
  ["𢹎", [["日開三宵上", modify("RH", "AU", "上")]]],
  ["𤛾", [["日開三宵上", modify("RH", "AU", "上")]]],
  ["𧳨", [["日開三宵上", modify("RH", "OU", "上")]]],
  ["䐓", [["日三尤平", modify("RH", "OU", "陽平")]]],
  ["𨛶", [["日三尤平", modify("RH", "OU", "陽平")]]],
  ["㭁", [["日開三蒸平", modify("RH", "ENG", "陽平")], ["日開三蒸去", modify("RH", "ENG", "去")]]],
  ["染", [["日開三鹽上", modify("RH", "AM", "上")], ["日開三鹽去", modify("RH", "AM", "去")]]],
  ["稔", [["日開三侵上", modify("RH", "EM", "上")]]],
  ["腍", [["日開三侵上", modify("RH", "EM", "上")]]],
]);

export const ADDITIONS = new Map<string, string[][]>([
  ["们", [["明一魂平", "用在人称代词或指人的名词后面，表示复数"]]],
  ["們", [["明一魂平", "用在人称代词或指人的名词后面，表示复数"]]],
  ["哈", [["曉開一歌平", "張口舒氣；形容笑聲；姓"]]],
  ["擼", [["來一模平", "捋、用手抓住東西的某一部分，向別的部分移動壓取"]]],
  ["撸", [["來一模平", "捋、用手抓住東西的某一部分，向別的部分移動壓取"]]],
  ["咚", [["端一冬平", "模擬撞擊或敲鼓的聲音"]]],
  ["嚕", [["來一模平", "語氣詞"]]],
  ["噜", [["來一模平", "語氣詞"]]],
  ["不", [["並一魂入", "與弗同，表否定"]]],
  ["他", [["透開一歌平", "代词，指人"]]],
  ["她", [["透開一歌平", "代词，指女性"]]],
  ["它", [["透開一歌平", "代词，专指人以外的事物"]]],
  ["那", [["泥開一歌去", "代词 指示比较远的人和事物，同“这”相对"]]],
  ["哪", [["泥開一歌上", "代词 表示疑问或虛指"]]],
  ["卡", [["溪開二麻上", "夹在中间，不能活动"]]],
  ["話", [["匣合二麻去", "言語"]]],
  ["话", [["匣合二麻去", "言語"]]],
  ["这", [["章開三麻去", "代词 指代较近的时间、地方或事物"]]],
  ["這", [["章開三麻去", "代词 指代较近的时间、地方或事物"]]],
  ["什", [["常開三侵平", "【正確形式：甚麽】代词 表示疑问"]]],
  ["甚", [["常開三侵平", "代词 表示疑问"]]],
  ["時", [["常開三之平", "時辰"]]],
  // ["给", [["見開三B侵入", "交付；送与"]]],
  // ["給", [["見開三B侵入", "交付；送与"]]],
  ["打", [["端開二庚上", "撞击；敲打"]]],
  ["怎", [["章開三侵上", "代词 表示疑问"]]],
  ["做", [["精開一歌去", "制作；创作"]]],
  ["完", [["影合二刪平", "完結、全部"]]],
  ["丸", [["影合二刪平", "圓團"]]],
  ["擦", [["清開一寒入", "擦拭"]]],
  ["𢅼", [["泥開一寒去", "巾[捫/撋]又塗著也"]]],
  ["碳", [["透開一寒去", "化學元素"]]],
]);
